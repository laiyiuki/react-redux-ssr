{"version":3,"file":"main.4998d1eb36292e9fa33f.hot-update.js","sources":["webpack:///src/common/App.js","webpack:///src/common/components/CourseAds.js","webpack:///src/server/index.js","webpack:///external \"babel-runtime/core-js/object/get-prototype-of\"","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///external \"babel-runtime/helpers/inherits\"","webpack:///external \"babel-runtime/helpers/possibleConstructorReturn\"","webpack:///external \"react-router-dom\""],"sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\n// Containers\n// import { DefaultLayout } from './containers';\n// Pages\nimport CourseAds from './components/CourseAds';\n// import { renderRoutes } from 'react-router-config';\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route\n            exact\n            path=\"/course-ads\"\n            name=\"Course Ads\"\n            component={CourseAds}\n          />\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchCourseAds } from '../actions';\n\nclass CourseAds extends Component {\n  componentDidMount() {\n    this.props.actions.fetchCourseAds;\n  }\n\n  render() {\n    const { courseAds } = this.props;\n\n    return (\n      <div>\n        {courseAds.map(courseAd => (\n          <div>\n            <div>{courseAd._id}</div>\n            <div>{courseAd.title}</div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  courseAds: state.courseAds,\n});\n\nexport default connect(\n  mapStateToProps,\n  { fetchCourseAds }\n)(CourseAds);\n","import React from 'react';\nimport express from 'express';\nimport { Provider } from 'react-redux';\nimport qs from 'qs';\nimport { renderToString } from 'react-dom/server';\nimport serialize from 'serialize-javascript';\nimport helmet from 'helmet';\n\nimport App from '../common/App';\nimport configureStore from '../common/store/configureStore';\nimport { fetchCounter } from '../common/api/counter';\nimport { CourseAdService } from '../common/services';\n\nconst assets = require(process.env.RAZZLE_ASSETS_MANIFEST);\nconst server = express();\n\nserver\n  // .disable('x-powered-by')\n  .use(helmet())\n  .use(express.static(process.env.RAZZLE_PUBLIC_DIR))\n  .get('/course-ads', async (req, res) => {\n    try {\n      const { data } = await CourseAdService.find();\n\n      // Compile an initial state\n      const preloadedState = { courseAds: data };\n\n      // Create a new Redux store instance\n      const store = configureStore(preloadedState);\n\n      // Render the component to a string\n      const markup = renderToString(\n        <Provider store={store}>\n          <App />\n        </Provider>\n      );\n\n      res.send(`\n        <!doctype html>\n        <html lang=\"\">\n          <head>\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n            <meta charSet='utf-8' />\n            <title>Razzle Redux Example</title>\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n            ${\n              assets.client.css\n                ? `<link rel=\"stylesheet\" href=\"${assets.client.css}\">`\n                : ''\n            }\n            ${\n              process.env.NODE_ENV === 'production'\n                ? `<script src=\"${assets.client.js}\" defer></script>`\n                : `<script src=\"${\n                    assets.client.js\n                  }\" defer crossorigin></script>`\n            }\n          </head>\n          <body>\n           <div id=\"root\">${markup}</div>\n            <script>\n              window.__PRELOADED_STATE__ = ${serialize(finalState)}\n            </script>\n          </body>\n        </html>`);\n      // res.send({ data });\n    } catch (err) {\n      console.log('err', err);\n      res.send(500);\n    }\n  })\n  .get('/*', (req, res) => {\n    fetchCounter(apiResult => {\n      // Read the counter from the request, if provided\n      const params = qs.parse(req.query);\n      const counter = parseInt(params.counter, 10) || apiResult || 0;\n\n      // Compile an initial state\n      const preloadedState = { counter };\n\n      // Create a new Redux store instance\n      const store = configureStore(preloadedState);\n\n      // Render the component to a string\n      const markup = renderToString(\n        <Provider store={store}>\n          <App />\n        </Provider>\n      );\n\n      // Grab the initial state from our Redux store\n      const finalState = store.getState();\n\n      res.send(`<!doctype html>\n    <html lang=\"\">\n    <head>\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n        <meta charSet='utf-8' />\n        <title>Razzle Redux Example</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        ${\n          assets.client.css\n            ? `<link rel=\"stylesheet\" href=\"${assets.client.css}\">`\n            : ''\n        }\n          ${\n            process.env.NODE_ENV === 'production'\n              ? `<script src=\"${assets.client.js}\" defer></script>`\n              : `<script src=\"${assets.client.js}\" defer crossorigin></script>`\n          }\n    </head>\n    <body>\n        <div id=\"root\">${markup}</div>\n        <script>\n          window.__PRELOADED_STATE__ = ${serialize(finalState)}\n        </script>\n    </body>\n</html>`);\n    });\n  });\n\nexport default server;\n","module.exports = require(\"babel-runtime/core-js/object/get-prototype-of\");","module.exports = require(\"babel-runtime/helpers/classCallCheck\");","module.exports = require(\"babel-runtime/helpers/createClass\");","module.exports = require(\"babel-runtime/helpers/inherits\");","module.exports = require(\"babel-runtime/helpers/possibleConstructorReturn\");","module.exports = require(\"react-router-dom\");"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AAWA;;;;AAdA;AACA;AAgBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;;;;;;;;;;;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AADA;AADA;AASA;;;;AAlBA;AACA;AAoBA;AAAA;AACA;AADA;AAAA;AACA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAAA;AAIA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AACA;AAGA;AA4BA;AA7CA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AA8CA;AACA;AACA;AAjDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AAIA;AACA;AACA;AACA;AAyBA;AACA;AACA;AACA;;;;;;;;;;;ACzHA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}